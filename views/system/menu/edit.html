<div class="panel">
    <div class="row">
        <div class="col-md-12">
            <a href="#" class="btn backBtn" ng-click="back()"><span class="fa fa-chevron-left" style="font-size: 160%;color:#808080;"></span></span></span></a>
            <button type="submit" class="btn button-orange" ng-click="submit(form)">&nbsp;<span>提交 </span></button>
            <button type="button" class="btn button-orange" ng-click="reset(form)">&nbsp;<span>重置 </span></button>
        </div>
    </div>
    <div class="panel-heading">
        <div class="portlet-title">
            <div class="caption">
                <div class="one-border">
                    {{$state.current.data.pageTitle}}
                </div>
            </div>
        </div>
    </div>
    <div class="panel-body">
        <div>
            <div class="portlet light  bordered">
                <div class="portlet-body form" style="display: block;">
                    <!-- BEGIN FORM-->
                    <form name="form" class="form-horizontal" novalidate>
                        <div class="form-body">
                            <div class="row">
                                <div class="col-md-6"
                                     ng-class="{ 'has-error' :(form.title.$touched || form.$submitted ) && form.title.$invalid}">
                                    <div class="form-group">
                                        <label class="control-label col-md-3 label-offset-padding">菜单标题<span
                                                class="text-danger">*</span> :</label>
                                        <div class="col-md-8">
                                            <input type="text" name="title" class="form-control" placeholder="菜单标题"
                                                   required maxlength="50" ng-maxlength="50" ng-model="model.title"/>
                                            <div class="help-block" ng-show="form.$submitted || form.title.$touched"
                                                 ng-messages="form.title.$error">
                                                <p ng-message="required">菜单标题不能为空</p>
                                                <p ng-message="maxlength">菜单标题长度不能超过50字符 </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6"
                                     ng-class="{ 'has-error' :(form.parentId.$dirty || form.$submitted ) && form.parentId.$invalid}">
                                    <div class="form-group">
                                        <label class="control-label col-md-3 label-offset-padding">父菜单<span
                                                class="text-danger">*</span> :</label>
                                        <div class="col-md-8">
                                            <div class="input-group" style="text-align:left">
                                                <input type="hidden" name="parentId" ng-model="model.parentId"
                                                       required/>
                                                <input type="text" class="form-control" name="parentTitle"
                                                       ng-model="model.parentTitle" placeholder="父菜单" readonly
                                                       disabled/>
                                                <div class="input-group-btn">
                                                    <button type="button" class="btn button-orange"
                                                            ng-click="selectParentMenu()">
                                                        选择
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="help-block"
                                                 ng-show="form.$submitted || form.parentId.$dirty"
                                                 ng-messages="form.parentId.$error">
                                                <p ng-message="required">父菜单不能为空</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6"
                                     ng-class="{ 'has-error' :(form.href.$touched || form.$submitted ) && form.href.$invalid}">
                                    <div class="form-group">
                                        <label class="control-label col-md-3 label-offset-padding">跳转地址 :</label>
                                        <div class="col-md-8">
                                            <input type="text" name="href" class="form-control" placeholder="跳转地址"
                                                   maxlength="300" ng-maxlength="300" ng-model="model.href"/>
                                            <div class="help-block" ng-show="form.$submitted || form.href.$touched"
                                                 ng-messages="form.href.$error">
                                                <p ng-message="maxlength">跳转地址不能超过300字符</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6"
                                     ng-class="{ 'has-error' :(form.className.$touched || form.$submitted ) && form.className.$invalid}">
                                    <div class="form-group">
                                        <label class="control-label col-md-3 label-offset-padding">菜单图标 :</label>
                                        <div class="col-md-8">
                                            <div class="input-group" style="text-align:left">
                                                <input type="text" class="form-control" name="className"
                                                       placeholder="菜单图标" maxlength="255" ng-maxlength="255"
                                                       ng-model="model.className"/>
                                                <div class="input-group-addon">
                                                    <i ng-if="model.className" class="{{model.className}}"></i>
                                                </div>
                                            </div>
                                            <div class="help-block" ng-show="form.$submitted || form.className.$touched"
                                                 ng-messages="form.className.$error">
                                                <p ng-message="maxlength">菜单图标不能超过255字符</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6"
                                     ng-class="{ 'has-error' :(form.sortNum.$touched || form.$submitted ) && form.sortNum.$invalid}">
                                    <div class="form-group">
                                        <label class="control-label col-md-3 label-offset-padding">排序<span
                                                class="text-danger">*</span> :</label>
                                        <div class="col-md-8">
                                            <input type="number" name="sortNum" class="form-control" required
                                                   placeholder="排序" max="1000" min="0" step="1"
                                                   ng-pattern="/^[0-9]\d*$/" ng-model="model.sortNum"/>
                                            <div class="help-block" ng-show="form.$submitted || form.sortNum.$touched"
                                                 ng-messages="form.sortNum.$error">
                                                <p ng-message="required">排序不能为空</p>
                                                <p ng-message="max">排序不能大于1000</p>
                                                <p ng-message="min">排序不能小于0</p>
                                                <p ng-message="pattern">排序只能为正整数</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <!-- END FORM-->
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/ng-template" id="menuTree.html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="btn_cancel()"><span
                aria-hidden="true">&times;</span></button>
        <h3 class="modal-title">请选择父菜单</h3>
    </div>
    <div class="modal-body">
        <div style="max-height: 390px;overflow-y: auto;" js-tree="treeConfig" ng-model="treeData" should-apply="applyModelChanges()" tree="treeInstance"
             tree-events="ready:menuTreeLoadedReady;select_node:selectMenuNode;">
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn blue" data-dismiss="modal" ng-click="btn_ok()" aria-hidden="true">
            <i class="fa fa-check" aria-hidden="true"></i>&nbsp;<span>确定 </span>
        </button>
        <button type="button" class="btn" data-dismiss="modal" ng-click="btn_cancel()" aria-hidden="true">
            <i class="fa fa-close" aria-hidden="true"></i>&nbsp;<span>取消 </span>
        </button>
    </div>
</script>